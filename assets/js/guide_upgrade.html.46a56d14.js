"use strict";(self.webpackChunkserver_torii=self.webpackChunkserver_torii||[]).push([[733],{8708:(e,a,n)=>{n.r(a),n.d(a,{comp:()=>i,data:()=>o});var s=n(641);const t={},i=(0,n(6262).A)(t,[["render",function(e,a){return(0,s.uX)(),(0,s.CE)("div",null,a[0]||(a[0]=[(0,s.Fv)('<h1 id="upgrade-guide" tabindex="-1"><a class="header-anchor" href="#upgrade-guide"><span>Upgrade Guide</span></a></h1><p>Server Torii is currently actively adding new features and improving some existing features. It&#39;s ready to be used to protect your site, but during version updates, there may be some breaking changes.</p><p>Therefore, when updating, please refer to this upgrade guide. The version numbers listed below indicate releases with breaking changes.</p><p>If a version number is skipped, it means that version has no breaking changes or functional update.</p><p>If you are upgrading across multiple versions, please follow the upgrade guides for all intermediate versions sequentially.</p><p>This guide also documents the functional updates for each version to help you quickly configure new features.</p><h2 id="upgrading-to-1-1-0" tabindex="-1"><a class="header-anchor" href="#upgrading-to-1-1-0"><span>Upgrading to 1.1.0</span></a></h2><h3 id="breaking-changes" tabindex="-1"><a class="header-anchor" href="#breaking-changes"><span>Breaking Changes</span></a></h3><h4 id="configuration-file" tabindex="-1"><a class="header-anchor" href="#configuration-file"><span>Configuration File</span></a></h4><p>The YAML configuration files <code>CAPTCHA.yml</code>, <code>HTTPFlood.yml</code>, and <code>VerifyBot.yml</code>, previously located in the <code>config/rules</code> path, have been merged into the <code>CAPTCHA</code>, <code>HTTPFlood</code>, and <code>VerifyBot</code> sections within <code>Server.yml</code>.</p><p>You can simply copy the contents of these three files into the corresponding sections of <code>Server.yml</code>. Please be careful with the YAML indentation format.</p><p>The new configuration is as follows:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code><span class="line"><span class="token key atrule">CAPTCHA</span><span class="token punctuation">:</span></span>\n<span class="line">  <span class="token key atrule">secret_key</span><span class="token punctuation">:</span> <span class="token string">&quot;0378b0f84c4310279918d71a5647ba5d&quot;</span></span>\n<span class="line">  <span class="token key atrule">captcha_validate_time</span><span class="token punctuation">:</span> <span class="token number">600</span></span>\n<span class="line">  <span class="token key atrule">captcha_challenge_session_timeout</span><span class="token punctuation">:</span> <span class="token number">120</span></span>\n<span class="line">  <span class="token key atrule">hcaptcha_secret</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span></span>\n<span class="line"><span class="token key atrule">HTTPFlood</span><span class="token punctuation">:</span></span>\n<span class="line">  <span class="token key atrule">HTTPFloodSpeedLimit</span><span class="token punctuation">:</span></span>\n<span class="line">    <span class="token punctuation">-</span> <span class="token string">&quot;150/10s&quot;</span></span>\n<span class="line">  <span class="token key atrule">HTTPFloodSameURILimit</span><span class="token punctuation">:</span></span>\n<span class="line">    <span class="token punctuation">-</span> <span class="token string">&quot;50/10s&quot;</span></span>\n<span class="line"><span class="token key atrule">VerifyBot</span><span class="token punctuation">:</span></span>\n<span class="line">  <span class="token key atrule">verify_google_bot</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>\n<span class="line">  <span class="token key atrule">verify_bing_bot</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>\n<span class="line">  <span class="token key atrule">verify_baidu_bot</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>\n<span class="line">  <span class="token key atrule">verify_yandex_bot</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>\n<span class="line">  <span class="token key atrule">verify_sogou_bot</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>\n<span class="line">  <span class="token key atrule">verify_apple_bot</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>\n<span class="line"><span class="token key atrule">ExternalMigration</span><span class="token punctuation">:</span></span>\n<span class="line">  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>\n<span class="line">  <span class="token key atrule">redirect_url</span><span class="token punctuation">:</span> <span class="token string">&quot;https://example.com/migration&quot;</span></span>\n<span class="line">  <span class="token key atrule">secret_key</span><span class="token punctuation">:</span> <span class="token string">&quot;0378b0f84c4310279918d71a5647ba5d&quot;</span></span>\n<span class="line">  <span class="token key atrule">session_timeout</span><span class="token punctuation">:</span> <span class="token number">1800</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="feature-updates" tabindex="-1"><a class="header-anchor" href="#feature-updates"><span>Feature Updates</span></a></h3><h4 id="external-mitigation-service" tabindex="-1"><a class="header-anchor" href="#external-mitigation-service"><span>External Mitigation Service</span></a></h4><p>Server Torii now supports an external mitigation service. You can configure Server Torii to redirect users to an external service for verification. Please refer to the <a href="/advanced/external_migration.html" target="_blank" rel="noopener noreferrer">External Mitigation Service Configuration</a> for setup instructions.</p><h4 id="new-error-pages" tabindex="-1"><a class="header-anchor" href="#new-error-pages"><span>New Error Pages</span></a></h4><p>Some errors will now be output via an error page template. You can customize the content of the error page by modifying <code>config/error_page/error.html</code>.</p>',18)]))}]]),o=JSON.parse('{"path":"/guide/upgrade.html","title":"Upgrade Guide","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Upgrading to 1.1.0","slug":"upgrading-to-1-1-0","link":"#upgrading-to-1-1-0","children":[{"level":3,"title":"Breaking Changes","slug":"breaking-changes","link":"#breaking-changes","children":[]},{"level":3,"title":"Feature Updates","slug":"feature-updates","link":"#feature-updates","children":[]}]}],"git":{"updatedTime":1751669386000,"contributors":[{"name":"Rayzggz","username":"Rayzggz","email":"37480123+Rayzggz@users.noreply.github.com","commits":1,"url":"https://github.com/Rayzggz"}],"changelog":[{"hash":"0145aa0f95944c9e802bae147d180479ce2bd7a8","time":1751669386000,"email":"37480123+Rayzggz@users.noreply.github.com","author":"Roi Feng","message":"docs: add upgrade guide"}]},"filePathRelative":"guide/upgrade.md"}')}}]);