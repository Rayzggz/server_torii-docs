"use strict";(self.webpackChunkserver_torii=self.webpackChunkserver_torii||[]).push([[77],{577:(e,n,s)=>{s.r(n),s.d(n,{comp:()=>t,data:()=>l});var i=s(641);const a={},t=(0,s(262).A)(a,[["render",function(e,n){return(0,i.uX)(),(0,i.CE)("div",null,n[0]||(n[0]=[(0,i.Fv)('<h1 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h1><p>安装分为两部分 ngx_torii 和 server_torii</p><p>ngx_torii 是一个 Nginx 模块，是 server_torii 的连接器，用于将 Nginx 收到的请求发送给 server_torii 检查</p><h2 id="ngx-torii" tabindex="-1"><a class="header-anchor" href="#ngx-torii"><span>ngx_torii</span></a></h2><h3 id="编译安装" tabindex="-1"><a class="header-anchor" href="#编译安装"><span>编译安装</span></a></h3><div class="hint-container warning"><p class="hint-container-title">如何获取编译参数</p><p>编译安装需要知道当前的 nginx 的编译参数，通过运行 <code>nginx -V</code> 获取 例如：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"># nginx -V</span>\n<span class="line"></span>\n<span class="line">nginx version: nginx/1.21.4</span>\n<span class="line">built by gcc 13.3.0 (Ubuntu 13.3.0-6ubuntu2~24.04) </span>\n<span class="line">built with OpenSSL 1.1.1w  11 Sep 2023</span>\n<span class="line">TLS SNI support enabled</span>\n<span class="line">configure arguments: --user=www --group=www --prefix=/www/server/nginx --add-module=/www/server/nginx/src/ngx_devel_kit --add-module=/www/server/nginx/src/lua_nginx_module --add-module=/www/server/nginx/src/ngx_cache_purge --add-module=/www/server/nginx/src/nginx-sticky-module --with-openssl=/www/server/nginx/src/openssl --with-pcre=pcre-8.43 --with-http_v2_module --with-stream --with-stream_ssl_module --with-stream_ssl_preread_module --with-http_stub_status_module --with-http_ssl_module --with-http_image_filter_module --with-http_gzip_static_module --with-http_gunzip_module --with-ipv6 --with-http_sub_module --with-http_flv_module --with-http_addition_module --with-http_realip_module --with-http_mp4_module --with-http_auth_request_module --add-module=/www/server/nginx/src/ngx_http_substitutions_filter_module-master --with-ld-opt=-Wl,-E --with-cc-opt=-Wno-error --with-ld-opt=-ljemalloc --with-http_dav_module --add-module=/www/server/nginx/src/nginx-dav-ext-module```</span>\n<span class="line"></span>\n<span class="line">请使用 `configure arguments:` 后面的内容，下文中将使用 `ARG` 来代替这块内容。</span>\n<span class="line"></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>ngx_torii 代码仓库： <code>https://github.com/Rayzggz/ngx_torii</code></p><p>此项目基于Nginx内置模块 ngx_http_auth_request_module 进行了简单修改以支持 server_torii</p><p>使用 <code>git clone https://github.com/Rayzggz/ngx_torii</code> 获取代码</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">$ <span class="token builtin class-name">cd</span> nginx-1.x.x</span>\n<span class="line">$ ./configure ARG --add-module<span class="token operator">=</span>/path/to/ngx_torii</span>\n<span class="line">$ <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="宝塔面板安装" tabindex="-1"><a class="header-anchor" href="#宝塔面板安装"><span>宝塔面板安装</span></a></h3>',11)]))}]]),l=JSON.parse('{"path":"/zh/guide/install.html","title":"安装","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"ngx_torii","slug":"ngx-torii","link":"#ngx-torii","children":[{"level":3,"title":"编译安装","slug":"编译安装","link":"#编译安装","children":[]},{"level":3,"title":"宝塔面板安装","slug":"宝塔面板安装","link":"#宝塔面板安装","children":[]}]}],"git":{"updatedTime":1746242211000,"contributors":[{"name":"Rayzggz","username":"Rayzggz","email":"37480123+Rayzggz@users.noreply.github.com","commits":1,"url":"https://github.com/Rayzggz"}],"changelog":[{"hash":"c273ef4b4d575a9136c146ae46acb02d2989ca06","time":1746242211000,"email":"37480123+Rayzggz@users.noreply.github.com","author":"Roi Feng","message":"docs: Config and some install docs"}]},"filePathRelative":"zh/guide/install.md"}')}}]);